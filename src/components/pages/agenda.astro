---
import Layout from "@/layouts/Layout.astro";
import { getI18N } from "@/i18n";
import RedHallTable from "../Tables/RedHallTable.astro";
import GreenHallTable from "../Tables/GreenHallTable.astro";
import WorkshopsTable from "../Tables/WorkshopsTable.astro";
import SpeakerTabs from "../Speakers/SpeakerTabs.astro";
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<Layout
  title={i18n.SEO.ARCHIVO_TITLE}
  description={i18n.SEO.ARCHIVO_DESCRIPTION}
>
  <main class="py-24 mx-auto w-full max-w-screen-xl p-4 px-6">
    <div class="">
      <nav class="tabs flex flex-col md:flex-row mt-12">
        <button
          data-target="panel-1"
          class="tab active flex-1 py-4 text-xl font-bold px-6 block rounded-t-2xl shadow-[3px_-6px_5px_#1a1a1a33] text-white focus:outline-none"
        >
          Description
        </button>
        <button
          data-target="panel-2"
          class="tab py-4 px-6 flex-1 block text-xl font-bold rounded-t-2xl text-white shadow-[3px_-6px_5px_#1a1a1a33] focus:outline-none"
        >
          Map and Street View
        </button>
        <button
          data-target="panel-3"
          class="tab py-4 px-6 flex-1 block text-xl font-bold rounded-t-2xl text-white shadow-[3px_-6px_5px_#1a1a1a33] focus:outline-none"
        >
          Other info
        </button>
      </nav>
    </div>

    <div id="panels">
      <div class="panel-1 active tab-content py-5">
        <RedHallTable />
      </div>
      <div class="panel-2 tab-content py-5">
        <GreenHallTable />
      </div>
      <div class="panel-3 tab-content py-5">
        <WorkshopsTable />
      </div>
    </div>
  </main>
  <section class="py-24 mx-auto w-full max-w-screen-xl p-4 px-6">
    <SpeakerTabs />
  </section>
</Layout>
<script>
  const tabs = document.querySelectorAll(".tabs");
  const tab = document.querySelectorAll(".tab");
  const panel = document.querySelectorAll(".tab-content");

  function onTabClick(event: any) {
    // deactivate existing active tabs and panel
    for (let i = 0; i < tab.length; i++) {
      tab[i].classList.remove("active");
    }

    for (let i = 0; i < panel.length; i++) {
      panel[i].classList.remove("active");
    }
    // activate new tabs and panel
    event.target.classList.add("active");
    let classString = event.target.getAttribute("data-target");
    if (classString) {
      document
        .getElementById("panels")
        ?.getElementsByClassName(classString)[0]
        ?.classList.add("active");
    }
  }

  for (let i = 0; i < tab.length; i++) {
    tab[i].addEventListener("click", onTabClick, false);
  }
</script>
<style>
  .tab-content {
    display: none;
  }

  .tab-content.active {
    display: block;
  }

  .tab.active {
    background: #222b5b;
  }
  .tab.active:hover {
    background: #1b2663;
  }
</style>
