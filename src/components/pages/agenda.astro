---
import Layout from "@/layouts/Layout.astro";
import { getI18N } from "@/i18n";
import RedHallTable from "../Tables/RedHallTable.astro";
import GreenHallTable from "../Tables/GreenHallTable.astro";
import WorkshopsTable from "../Tables/WorkshopsTable.astro";
import SpeakersGrid from "../Speakers/SpeakersGrid.astro";
const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
---

<Layout
  title={i18n.SEO.ARCHIVO_TITLE}
  description={i18n.SEO.ARCHIVO_DESCRIPTION}
>
  <main class="overflow-hidden">
    <div class="pt-24 mx-auto max-w-screen-xl px-6">
      <nav class="tabs flex flex-col md:flex-row mt-12">
        <button
          data-target="panel-1"
          class="tab active flex-1 py-4 text-xl font-bold px-6 block rounded-t-2xl shadow-[3px_-6px_5px_#1a1a1a33] text-white focus:outline-none"
        >
         Red Hall
        </button>
        <button
          data-target="panel-2"
          class="tab py-4 px-6 flex-1 block text-xl font-bold rounded-t-2xl text-white shadow-[3px_-6px_5px_#1a1a1a33] focus:outline-none"
        >
          Green Hall
        </button>
        <button
          data-target="panel-3"
          class="tab py-4 px-6 flex-1 block text-xl font-bold rounded-t-2xl text-white shadow-[3px_-6px_5px_#1a1a1a33] focus:outline-none"
        >
         Workshops
        </button>
      </nav>
    </div>

    <div id="panels" class="w-full px-4">
      <div class="panel-1 active tab-content py-5">
        <RedHallTable />
        <div class="flex-col xl:flex-row flex w-full gap-2">
      <SpeakersGrid spaceTime="Red Hall Friday" />
      <SpeakersGrid spaceTime="Red Hall Saturday" />
      <SpeakersGrid spaceTime="Red Hall Sunday" />
        </div>
      </div>
      <div class="panel-2 tab-content py-5">
        <GreenHallTable />
       <div class="flex-col xl:flex-row flex w-full gap-2">
          <SpeakersGrid spaceTime="Green Hall Friday"  />
      <SpeakersGrid spaceTime="Green Hall Saturday"  />
      <SpeakersGrid spaceTime="Green Hall Sunday"  />
        </div>
      </div>
      <div class="panel-3 tab-content py-5">
        <WorkshopsTable />
       <div class="flex-col xl:flex-row flex w-full gap-2">
          <SpeakersGrid spaceTime="Workshops Friday" free={true} />
      <SpeakersGrid spaceTime="Workshops Saturday" free={true} />
      <SpeakersGrid spaceTime="Workshops Sunday" free={true} />
        </div>
      </div>
    </div>
  </main>
</Layout>
<script>
  const tabs = document.querySelectorAll(".tabs");
  const tab = document.querySelectorAll(".tab");
  const panel = document.querySelectorAll(".tab-content");

  function onTabClick(event: any) {
    // deactivate existing active tabs and panel
    for (let i = 0; i < tab.length; i++) {
      tab[i].classList.remove("active");
    }

    for (let i = 0; i < panel.length; i++) {
      panel[i].classList.remove("active");
    }
    // activate new tabs and panel
    event.target.classList.add("active");
    let classString = event.target.getAttribute("data-target");
    if (classString) {
      document
        .getElementById("panels")
        ?.getElementsByClassName(classString)[0]
        ?.classList.add("active");
    }
  }

  for (let i = 0; i < tab.length; i++) {
    tab[i].addEventListener("click", onTabClick, false);
  }
</script>
<style>
  .tab-content {
    display: none;
  }

  .tab-content.active {
    display: block;
  }

  .tab.active {
    background: #222b5b;
  }
  .tab.active:hover {
    background: #1b2663;
  }
</style>
